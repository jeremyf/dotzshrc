#!/usr/bin/env ruby -w

# Toggle the dark/light setting
system(%(osascript -e'tell application "System Events" to tell appearance preferences to set dark mode to not dark mode'))

# Commands for turning on dark or light
commands = {
  "Dark" => ". $HOME/.config/base16-shell/scripts/base16-google-dark.sh",
  "" => ". $HOME/.config/base16-shell/scripts/base16-google-light.sh"
}

# Determine current dark/light setting.
appearance = `defaults read -g AppleInterfaceStyle 2> /dev/null`.strip
system(commands.fetch(appearance))
